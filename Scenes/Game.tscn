[gd_scene load_steps=6 format=3 uid="uid://c00cwr2hi5lbo"]

[ext_resource type="Script" uid="uid://bvckxiylbb3g2" path="res://Scripts/Game.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://dpurp42lukq8c" path="res://Scenes/Stock.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://dyr8mo4fy35nc" path="res://Scenes/Foundation.tscn" id="4"]
[ext_resource type="PackedScene" uid="uid://cxmvd1bx3wc17" path="res://Scenes/Pile.tscn" id="5"]
[ext_resource type="PackedScene" uid="uid://jjv1ijfg1qoh" path="res://Scenes/Waste.tscn" id="6"]

[node name="Game" type="Node"]
script = ExtResource("1")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TopContainer" type="HBoxContainer" parent="UI"]
layout_mode = 0
anchor_left = 0.5
anchor_right = 0.5
offset_left = -132.5
offset_right = 132.5
offset_bottom = 40.0
theme_override_constants/separation = 29

[node name="time" type="Label" parent="UI/TopContainer"]
layout_mode = 2
text = "0:00:00"

[node name="Score" type="Label" parent="UI/TopContainer"]
layout_mode = 2
text = "Score:"

[node name="ScoreNum" type="Label" parent="UI/TopContainer"]
layout_mode = 2
text = "0"

[node name="Moves" type="Label" parent="UI/TopContainer"]
layout_mode = 2
text = "Moves:"

[node name="MovesNum" type="Label" parent="UI/TopContainer"]
layout_mode = 2
text = "0"

[node name="Quit" type="Button" parent="UI"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -42.0
offset_top = -31.0
grow_horizontal = 0
grow_vertical = 0
text = "Quit"

[node name="Label" type="Label" parent="UI"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.484375
anchor_top = 0.618056
anchor_right = 0.53125
anchor_bottom = 0.686111
offset_bottom = 3.05176e-05
grow_horizontal = 2
grow_vertical = 2
text = "Current Card
"
metadata/_edit_use_anchors_ = true

[node name="ControlContainer" type="VBoxContainer" parent="UI"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -20.0
offset_right = 40.0
offset_bottom = 20.0
grow_vertical = 2
alignment = 1

[node name="Draw" type="Button" parent="UI/ControlContainer"]
layout_mode = 2
size_flags_horizontal = 4
text = "Draw
"

[node name="SpadeFoundation" parent="." instance=ExtResource("4")]
position = Vector2(500, 575)
suit = 0

[node name="DiamondFoundation" parent="." instance=ExtResource("4")]
position = Vector2(800, 575)
suit = 1

[node name="ClubFoundation" parent="." instance=ExtResource("4")]
position = Vector2(700, 575)
suit = 2

[node name="HeartFoundation" parent="." instance=ExtResource("4")]
position = Vector2(600, 575)
suit = 3

[node name="Stock" parent="." instance=ExtResource("3")]
offset_left = 212.0
offset_top = 130.0
offset_right = 262.0
offset_bottom = 200.0

[node name="Waste" parent="." instance=ExtResource("6")]
position = Vector2(300, 340.106)

[node name="Piles" type="Node" parent="."]

[node name="Pile" parent="Piles" instance=ExtResource("5")]
position = Vector2(400, 170)
id = 0

[node name="Pile2" parent="Piles" instance=ExtResource("5")]
position = Vector2(500, 170)
id = 1

[node name="Pile3" parent="Piles" instance=ExtResource("5")]
position = Vector2(600, 170)
id = 2

[node name="Pile4" parent="Piles" instance=ExtResource("5")]
position = Vector2(700, 170)
id = 3

[node name="Pile5" parent="Piles" instance=ExtResource("5")]
position = Vector2(800, 170)
id = 4

[node name="Pile6" parent="Piles" instance=ExtResource("5")]
position = Vector2(900, 170)
id = 5

[node name="Pile7" parent="Piles" instance=ExtResource("5")]
position = Vector2(1000, 170)
id = 6

[connection signal="pressed" from="UI/Quit" to="." method="_on_Quit_pressed"]
[connection signal="pressed" from="UI/ControlContainer/Draw" to="." method="_on_draw_pressed"]
[connection signal="take_card" from="Waste" to="." method="_on_Waste_take_card"]
[connection signal="attempt_to_add" from="Piles/Pile" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile2" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile3" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile4" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile5" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile6" to="." method="add_to_pile"]
[connection signal="attempt_to_add" from="Piles/Pile7" to="." method="add_to_pile"]

[editable path="Piles/Pile"]
[editable path="Piles/Pile2"]
[editable path="Piles/Pile3"]
[editable path="Piles/Pile4"]
[editable path="Piles/Pile5"]
[editable path="Piles/Pile6"]
[editable path="Piles/Pile7"]
